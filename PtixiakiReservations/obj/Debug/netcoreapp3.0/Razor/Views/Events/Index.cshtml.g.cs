#pragma checksum "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\Events\Index.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "077a17b52bae919af2f6b28c92a9d3404aebc6b0fdbddc89d3f449fc28f1a3d4"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Events_Index), @"mvc.1.0.view", @"/Views/Events/Index.cshtml")]
namespace AspNetCore
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\_ViewImports.cshtml"
using PtixiakiReservations

#nullable disable
    ;
#nullable restore
#line 2 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\_ViewImports.cshtml"
using PtixiakiReservations.Models

#line default
#line hidden
#nullable disable
    ;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"077a17b52bae919af2f6b28c92a9d3404aebc6b0fdbddc89d3f449fc28f1a3d4", @"/Views/Events/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"Sha256", @"b91fba7d7cc2b620f2c2f0670326acd17c67808c92e1c53af0991dc6691f61ab", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Events_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<PtixiakiReservations.Models.EventType>>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "Week", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "Day", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("value", "Month", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\Events\Index.cshtml"
  
    ViewBag.Title = "Index";

#line default
#line hidden
#nullable disable

            WriteLiteral(@"
<h2>Index</h2>
<div id=""calender""></div>

<div id=""myModal"" class=""modal fade"" role=""dialog"">
    <div class=""modal-dialog"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <button type=""button"" class=""close"" data-dismiss=""modal"">&times;</button>
                <h4 class=""modal-title""><span id=""eventTitle""></span></h4>
            </div>
            <div class=""modal-body"">
                <p id=""pDetails""></p>
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-default"" data-dismiss=""modal"">Close</button>
            </div>
        </div>
    </div>
</div>

<div id=""myModalRepeatTime"" class=""modal fade second-modal-class"" role=""dialog"">
    <div class=""modal-dialog"">

        <div class=""modal-content"">
            <div class=""modal-header"">
                Custom recurrence
                <button type=""button"" class=""close second-modal-close"" data-previouspopup-toggle="".first-m");
            WriteLiteral(@"odal-class"" data-dismiss=""modal"">&times;</button>
            </div>
            <div class=""modal-body"">
                <div class=""form-group"">
                    Repeat Every :<input id=""numOfRepeat"" type=""number"" min=""1"" value=""1"" style=""width: 10%"" />
                                  <select id=""selectRepeat"">
                                      ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "077a17b52bae919af2f6b28c92a9d3404aebc6b0fdbddc89d3f449fc28f1a3d45887", async() => {
                WriteLiteral("Week");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                                      ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "077a17b52bae919af2f6b28c92a9d3404aebc6b0fdbddc89d3f449fc28f1a3d47106", async() => {
                WriteLiteral("Day");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                                      ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "077a17b52bae919af2f6b28c92a9d3404aebc6b0fdbddc89d3f449fc28f1a3d48324", async() => {
                WriteLiteral("Month");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
                                  </select>
                </div>
                <div class=""form-group show-week"">
                    Repeat On
                </div>
                <div class=""form-check show-week"">
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" class=""form-check-input"" id=""su"">
                        <label class=""form-check-label"" >S</label>
                    </div>
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" class=""form-check-input"" id=""m"">
                        <label class=""form-check-label"" >M</label>
                    </div>
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" class=""form-check-input"" id=""tu"">
                        <label class=""form-check-label"" >T</label>
                    </div>
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" cl");
            WriteLiteral(@"ass=""form-check-input"" id=""w"">
                        <label class=""form-check-label"">W</label>
                    </div>
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" class=""form-check-input"" id=""th"">
                        <label class=""form-check-label"" >T</label>
                    </div>
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" class=""form-check-inputt"" id=""f"">
                        <label class=""form-check-label"">F</label>
                    </div>
                    <div class=""form-check-inline"">
                        <input type=""checkbox"" class=""form-check-input"" id=""sa"">
                        <label class=""form-check-label"">S</label>
                    </div>
                </div>
                <div class=""form-group"">
                    Until <input type=""date""  id=""untilDate"" />
                </div>
                <div class=""form-group"">
         ");
            WriteLiteral(@"           After: <input type=""number"" style=""width: 10%"" min=""1"" id=""afterNumTimes"" />occurrences
                </div>
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-default"" data-dismiss=""modal"">Close</button>
                <input type=""submit"" value=""Save"" id=""saveRepeatTime"" class=""btn btn-primary"" />
            </div>
        </div>

    </div>
</div>
<link href=""//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.css"" rel=""stylesheet"" />
<link href=""//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.print.css"" rel=""stylesheet"" media=""print"" />

");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script src=""https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js""></script>
    <script src=""//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.4.0/fullcalendar.min.js""></script>

    <script>
        $(document).ready(function () {
            var events = [];
            $.ajax({
                type: ""GET"",
                url: '");
                Write(
#nullable restore
#line 103 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\Events\Index.cshtml"
                       Url.Action("GetEvents", "Events")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                success: function (data) {
                    $.each(data, function (i, v) {
                        events.push({
                            id: v.id,
                            title: v.name,
                            start: moment(v.startDateTime),
                            end: v.endTime != null ? moment(v.endTime) : null,
                            EventTypeId: v.eventTypeId,
                            EventType: v.eventType
                        });
                    })
                    GenerateCalender(events);
                },
                error: function (error) {
                    alert('failed');
                },
                accept: 'application/json'
            })

            function GenerateCalender(events) {
                $('#calender').fullCalendar('destroy');
                $('#calender').fullCalendar({
                    contentHeight: 400,
                    defaultDate: new Date(),
                    timeForma");
                WriteLiteral(@"t: 'h(:mm)a',
                    header: {
                        left: 'prev,next today',
                        center: 'Name',
                        right: 'month,basicWeek,basicDay,agenda'
                    },
                    eventLimit: true,
                    eventColor: '#378006',
                    events: events,
                    eventClick: function (calEvent, jsEvent, view) {
                        $('#myModal #eventTitle').text(calEvent.title);
                        var $description = $('<div/>');
                        $description.append($('<p/>').html('<b>Start:</b>' + calEvent.start.format(""DD-MMM-YYYY HH:mm a"")));
                        $description.append($('<p/>').html('<b>End:</b>' + calEvent.end.format(""DD-MMM-YYYY HH:mm a"")));
                        $description.append($('<p/>').html('<b>EventType:</b>' + calEvent.EventType.name));
                        $description.append($('<p/>').html('<input type=""hidden"" id=""eId"" value=' + calEvent.id + ' />' ");
                WriteLiteral(@"+
                            '<input type=""submit"" value=""Delete"" id=""Delete"" class=""btn btn-danger"" />' +
                            '<span><b>Delete All</b><input type=""checkbox"" id=""dAll"">' +
                            '</div >'));

                        $('#myModal #pDetails').empty().html($description);
                        $('#myModal').modal();
                    },
                    dayClick: function (date, jsEvent, view) {
                        $('#myModal #eventCreate').text(""Create Event"");
                        var $description = $('<div class=""row""><div class=""col-md-4"">' +
                            ' <div class=""form-group"">' +
                            '<b>Name:</b> <input id=""Name""/></div >' +
                            ' <div class=""form-group"">' +
                            '<input id=""Date"" value=' + date.format() + ' type=""hidden""/>' +
                            '<b>Start Time:</b> <input id=""StartTime"" type=""time""/>' +
                            ' <");
                WriteLiteral(@"div class=""form-group"">' +
                            '<b>End Time:</b> <input id=""EndTime"" type=""time""/>' +
                            ' <div class=""form-group"">' +
                            '<b>Event Type:</b> <select id=""EventTypes"" value=""Restaurant""> </select>' +
                            ' <div class=""form-group"">' +
                            '<br><input type=""submit"" value=""Repeat Time"" id=""RepeatTime"" class=""btn btn-primary"" /></div>' +
                            ' <div class=""form-group"">' +
                            '<input type=""submit"" value=""Create"" id=""Create"" class=""btn btn-primary"" /> </div>' +
                            '</div ></div >'
                        );

                        $('#myModal #pDetails').empty().html($description);
                        $('#myModal').modal();
                    }
                })
            }
        });
        var repeat = {};
        $(""#myModalRepeatTime"").on('shown.bs.modal', function (calEvent) {
            $");
                WriteLiteral(@"(""#selectRepeat"").change(function () {
                var selcetRepeat = $(""#selectRepeat"").val();
                switch (selcetRepeat) {
                    case 'Day':
                        $("".show-week"").hide();
                        break;
                    case 'Week':
                        $("".show-week"").show();
                        break;
                     case 'Month':
                        $("".show-week"").hide();
                        break;
                }
            });
            $(""#saveRepeatTime"").click(function () {
                repeat.NumOfRepeat = $(""#numOfRepeat"").val();
                repeat.SelectRepeat = $(""#selectRepeat"").val();                
                repeat.Su = $(""#su"").is("":checked"");
                repeat.M = $(""#m"").is("":checked"");
                repeat.Tu = $(""#tu"").is("":checked"");
                repeat.W = $(""#w"").is("":checked"");
                repeat.Th = $(""#th"").is("":checked"");
                repeat.F = $(""#f"").");
                WriteLiteral(@"is("":checked"");
                repeat.Sa = $(""#sa"").is("":checked"");
                repeat.UntilDate = $(""#untilDate"").val();
                repeat.AfterNumTimes = $(""#afterNumTimes"").val();
                 console.log($(""#afterNumTimes"").val());
                if ($(""#untilDate"").val() != """" && $(""#afterNumTimes"").val() != """") {
                    alert(""you cant have both until and after"");
                    $(""#untilDate"").val() = """";
                    $(""#afterNumTimes"").val() = """";
                    repeat = {};
                } else if ($(""#untilDate"").val() == """" && $(""#afterNumTimes"").val() == """") {
                    alert(""you need to put Until or After x occurances"");
                    $(""#untilDate"").val() = """";
                    $(""#afterNumTimes"").val() = """";
                    repeat = {};
                }
                if (repeat.AfterNumTimes != """" && repeat.UntilDate == """") {
                    repeat.UntilDate = new Date();
                }
        ");
                WriteLiteral(@"       $('#myModalRepeatTime').modal('toggle')
            });
        });
        $(""#myModal"").on('shown.bs.modal', function (calEvent) {
            $(""#EventTypes"").ready(function () {
                $.ajax({
                    type: ""Get"",
                    url: '");
                Write(
#nullable restore
#line 226 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\Events\Index.cshtml"
                           Url.Action("GetEventTypes","Events")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                    dataType: 'json',
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {
                        $(""#EventTypes option"").remove();
                        $.each(data, function (index, item) {
                            $(""#EventTypes"").append(
                                $(""<option></option>"")
                                    .text(item.name)
                                    .val(item.id))
                        })
                    }
                });
            });
            $(""#RepeatTime"").click(function () {
                $(""#myModalRepeatTime"").modal('show');
            });

            $('#Create').click(function () {
                
                if ($(""#EndTime"").val() == """" || $(""#StartTime"").val() == """" || $(""#Name"").val()=="""") {
                    alert(""You must fill all the data"");
                } else {
                var end = new Date($(""#Date"").val() + 'T' +");
                WriteLiteral(@" $(""#EndTime"").val());
                var start = new Date($(""#Date"").val() + 'T' + $(""#StartTime"").val());
                var event = {};
                event.Name = $(""#Name"").val();
                event.StartDateTime = start;
                    event.EndTime = end;               
                    event.EventTypeId = $(""#EventTypes"").val();
                    if (repeat != null) {
                        event.Repeat = repeat;
                }
                    console.log(JSON.stringify(event));
                if (start > end) {
                    alert(""End time cant be earlier than Start time"");
                } else {
                    $.ajax(
                        {
                            type: ""Post"",
                            url: '");
                Write(
#nullable restore
#line 266 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\Events\Index.cshtml"
                                   Url.Action("CreateEvent", "Events")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                            dataType: 'json',
                            contentType: 'application/json; charset=utf-8',
                            data: JSON.stringify(event),
                            success: function (data) { alert(""saved""); },
                            accept: 'application/json'
                        })
                         }
                    }
            });
            $(""#Delete"").click(function () {
                var id = $(""#eId"").val();
                var dAll = $(""#dAll"").is("":checked"");
                $.ajax(
                    {
                        type: ""Get"",
                        url: '");
                Write(
#nullable restore
#line 282 "D:\Rider Projects\PtixiakiReservations\PtixiakiReservations\Views\Events\Index.cshtml"
                               Url.Action("Delete", "Events")

#line default
#line hidden
#nullable disable
                );
                WriteLiteral(@"',
                        dataType: 'json',
                        contentType: 'application/json; charset=utf-8',
                        data: { ""Id"": id, ""dAll"": dAll },
                            success: function (data) { alert(""Deleted""); },
                            accept: 'application/json'
                        })
            });
        });
        
    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<PtixiakiReservations.Models.EventType>> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
